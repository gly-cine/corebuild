<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…±é€šãƒ†ã‚¹ãƒˆè‹±èªå­¦ç¿’ã‚¢ãƒ—ãƒª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦æ—¥æœ¬èªè¡¨ç¤ºã«é©ã—ãŸInterã‚’è¨­å®š */
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; }
        /* ç”»é¢å…¨ä½“ã«ãƒ•ã‚£ãƒƒãƒˆã—ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç™ºç”Ÿã•ã›ãªã„ãŸã‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .h-screen-no-scroll { height: 100vh; overflow: hidden; }
        .word-button { transition: all 0.2s; }
        .word-button:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); }
        .selected { opacity: 0.5; pointer-events: none; }
        
        /* ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿æ™‚ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®è‰²ã‚’å®šç¾© */
        .mode-tab { 
            border: 2px solid white;
            background-color: #4f46e5; /* primary */
            color: white; 
        }
        .mode-tab.active-mode-tab {
            background-color: white;
            color: #4f46e5; /* primary */
        }
    </style>
    <script>
        // Tailwindã®è¨­å®šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º (è‰²å®šç¾©)
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5',
                        'secondary': '#10b981',
                        'danger': '#ef4444',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 h-screen-no-scroll flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-4xl bg-white shadow-2xl rounded-xl flex flex-col h-full md:h-5/6 overflow-hidden">

        <header class="p-6 bg-primary text-white rounded-t-xl shadow-lg flex flex-col justify-between items-center space-y-4">
            <h1 class="text-2xl font-bold tracking-tight">å…±é€šãƒ†ã‚¹ãƒˆè‹±èªå­¦ç¿’ã‚¢ãƒ—ãƒª</h1>
            
            <div id="main-selector" class="flex space-x-4 w-full justify-center">
                <button onclick="setLearningType('listening')" id="type-listening" class="bg-white text-primary px-6 py-2 rounded-xl font-bold text-lg transition duration-200 shadow-lg hover:bg-gray-100">
                    ğŸ‘‚ ãƒªã‚¹ãƒ‹ãƒ³ã‚°å­¦ç¿’
                </button>
                <button onclick="setLearningType('reading')" id="type-reading" class="bg-primary border-2 border-white text-white px-6 py-2 rounded-xl font-bold text-lg transition duration-200 shadow-lg hover:bg-white hover:text-primary">
                    ğŸ“– ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å­¦ç¿’
                </button>
            </div>
            
            <div id="mode-selector" class="flex space-x-2 mt-3 md:mt-0 w-full justify-center">
                </div>
            
        </header>

        <main class="flex-grow p-6 flex flex-col space-y-4 overflow-y-auto">

            <div class="text-center text-sm text-gray-500 mb-4">
                <span id="sentence-id" class="font-mono bg-gray-100 px-2 py-1 rounded-md">ID: -</span>
                <span id="sentence-year" class="ml-4 px-2 py-1 rounded-md text-primary font-semibold">å‡ºé¡Œå¹´åº¦: -</span>
            </div>

            <div id="english-display-card" class="bg-indigo-50 p-6 rounded-xl shadow-inner min-h-[100px] flex items-center justify-center transition-all duration-300">
                <p id="english-text" class="text-xl md:text-2xl font-bold text-gray-800 text-center select-none">
                    å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„
                </p>
            </div>

            <div id="translation-card" class="bg-white p-4 border border-gray-200 rounded-xl shadow min-h-[60px] transition-all duration-300 hidden">
                <p class="text-sm font-semibold text-gray-600 mb-1">å’Œè¨³</p>
                <p id="japanese-text" class="text-lg text-gray-700">
                    -
                </p>
            </div>

            <div id="scramble-ui" class="space-y-4 hidden">
                <div class="p-4 bg-yellow-100 rounded-xl border-dashed border-2 border-yellow-300 min-h-[80px]">
                    <p class="text-sm font-semibold text-yellow-700 mb-1">è§£ç­”æ§‹ç¯‰ã‚¨ãƒªã‚¢</p>
                    <div id="answer-area" class="flex flex-wrap gap-2">
                        </div>
                </div>

                <div class="p-4 bg-white rounded-xl shadow-md border-t border-gray-200">
                    <p class="text-sm font-semibold text-gray-600 mb-2">å˜èªã‚’é¸æŠã—ã¦æ­£ã—ã„è‹±æ–‡ã‚’å®Œæˆã•ã›ã‚ˆã†</p>
                    <div id="scrambled-words-area" class="flex flex-wrap gap-2">
                        </div>
                </div>

                <div class="flex justify-center space-x-4 pt-2">
                    <button id="check-answer-btn" onclick="checkScrambledAnswer()" class="px-6 py-2 bg-secondary text-white font-bold rounded-lg hover:bg-green-600 transition-colors shadow-md hidden">
                        è§£ç­”ãƒã‚§ãƒƒã‚¯
                    </button>
                    <button id="reset-scramble-btn" onclick="resetScramble()" class="px-6 py-2 bg-gray-500 text-white font-bold rounded-lg hover:bg-gray-600 transition-colors shadow-md hidden">
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                </div>
            </div>

            <div id="message-box" class="text-center py-2 text-lg font-semibold hidden rounded-lg"></div>

        </main>

        <footer class="p-6 bg-gray-100 rounded-b-xl border-t border-gray-200 flex justify-between items-center flex-wrap">
            <div class="flex space-x-2">
                <button onclick="navigate(-1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors font-medium">
                    &lt; å‰ã®æ–‡
                </button>
                <button onclick="navigate(1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors font-medium">
                    æ¬¡ã®æ–‡ &gt;
                </button>
            </div>

            <div class="flex space-x-3 mt-4 md:mt-0">
                <button id="toggle-translation-btn" onclick="toggleTranslation()" class="px-6 py-2 bg-indigo-500 text-white font-bold rounded-lg hover:bg-indigo-600 transition-colors shadow-md hidden">
                    å’Œè¨³ã‚’è¡¨ç¤º
                </button>

                <button id="play-audio-btn" onclick="playAudio()" class="px-6 py-2 bg-red-500 text-white font-bold rounded-lg hover:bg-red-600 transition-colors shadow-md flex items-center hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                    </svg>
                    éŸ³å£°å†ç”Ÿ
                </button>
            </div>
        </footer>

    </div>

<script>
    // --- ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨å®šæ•° ---
    let DB = []; 
    
    let currentLearningType = 'listening'; 
    let currentMode = 1; 
    let currentSentenceIndex = 0;
    let isTranslationVisible = false;
    let correctWords = []; 
    let scrambledWords = []; 
    let answerSequence = []; 
    
    // --- ãƒ¢ãƒ¼ãƒ‰å®šç¾© ---
    const MODES = {
        listening: [
            { id: 1, name: 'â‘  è‹±æ–‡å…ˆè¡Œ' },
            { id: 2, name: 'â‘¡ éŸ³å£°å…ˆè¡Œ' },
            { id: 3, name: 'â‘¢ ä¸¦ã¹æ›¿ãˆ' },
        ],
        reading: [
            { id: 101, name: 'â‘  è‹±æ–‡å…ˆèª­ã¿' },
            { id: 102, name: 'â‘¡ å’Œè¨³å…ˆè¡Œ' },
        ]
    };

    // --- DOMè¦ç´ ã®å‚ç…§ ---
    const englishTextEl = document.getElementById('english-text');
    const japaneseTextEl = document.getElementById('japanese-text');
    const translationCardEl = document.getElementById('translation-card');
    const toggleTranslationBtn = document.getElementById('toggle-translation-btn');
    const scrambledWordsAreaEl = document.getElementById('scrambled-words-area');
    const answerAreaEl = document.getElementById('answer-area');
    const scrambleUiEl = document.getElementById('scramble-ui');
    const playAudioBtn = document.getElementById('play-audio-btn');
    const messageBoxEl = document.getElementById('message-box');
    const checkAnswerBtn = document.getElementById('check-answer-btn');
    const resetScrambleBtn = document.getElementById('reset-scramble-btn');
    const modeSelectorEl = document.getElementById('mode-selector');
    const typeListeningBtn = document.getElementById('type-listening');
    const typeReadingBtn = document.getElementById('type-reading');

    // --- JSONãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥åŸ‹ã‚è¾¼ã¿ ---
    // (ãƒ‡ãƒ¼ã‚¿é‡ãŒå¤šã„ãŸã‚ã€çœç•¥ã›ãšã«å…¨é‡ã‚’å«ã‚ã¾ã™)
    const EMBEDDED_JSON_DATA = [
        {
            "id": "sentence0003",
            "en": "So, I asked Kenji if he could do it instead of me",
            "ja": "ãã“ã§ã€ç§ã®ä»£ã‚ã‚Šã«ãã‚Œã‚’ã‚„ã£ã¦ãã‚Œã‚‹ã‹ã‚±ãƒ³ã‚¸ã«å°‹ã­ã¾ã—ãŸ",
            "year": "2006å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0004",
            "en": "I want to go to the National Museum",
            "ja": "å›½ç«‹åšç‰©é¤¨ã¸è¡ŒããŸã„ã§ã™",
            "year": "2006å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0008",
            "en": "I found a nice hotel in Paris that I liked very much",
            "ja": "ãƒ‘ãƒªã§ç´ æ•µãªãƒ›ãƒ†ãƒ«ã‚’è¦‹ã¤ã‘ã¦ã€ã¨ã¦ã‚‚æ°—ã«å…¥ã‚Šã¾ã—ãŸ",
            "year": "2006å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0009",
            "en": "Yeah, Saturday looks bad â€• cloudy and rainy.",
            "ja": "ã‚ãã€åœŸæ›œæ—¥ã¯æ‚ªãã†ã ã€‚æ›‡ã‚Šæ™‚ã€…é›¨ã ã‚ˆã€‚",
            "year": "2006å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0010",
            "en": "Could you have him call me back after four o'clock?",
            "ja": "å››æ™‚ä»¥é™ã«é›»è©±ã‚’ã‹ã‘ç›´ã™ã‚ˆã†å½¼ã«è¨€ã£ã¦ãã‚Œã¾ã™ã‹ï¼Ÿ",
            "year": "2007å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0013",
            "en": "But it's closed because today's a holiday, remember?",
            "ja": "ã‘ã©ã€ä»Šæ—¥ã¯ç¥æ—¥ã ã‹ã‚‰é–‰ã¾ã£ã¦ã‚‹ã‚ˆã€‚è¦šãˆã¦ãªã„ï¼Ÿ",
            "year": "2007å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0017",
            "en": "Why don't you keep a diary in Japanese?\nBut I don't like writing to myself.",
            "ja": "æ—¥æœ¬èªã§æ—¥è¨˜ã‚’æ›¸ã„ã¦ã¿ãŸã‚‰ã©ã†ï¼Ÿ\nã‘ã©ã€è‡ªåˆ†ã«å¯¾ã—ã¦æ›¸ãã®ã¯å¥½ãã˜ã‚ƒãªã„ã®",
            "year": "2007å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0019",
            "en": "I'm worried about the dog.\nYeah, she hasn't eaten anything for two days.",
            "ja": "çŠ¬ã®ã“ã¨ãŒå¿ƒé…ã \nãˆãˆã€äºŒæ—¥ã‚‚ä½•ã‚‚é£Ÿã¹ã¦ãªã„ã‚",
            "year": "2007å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0022",
            "en": "Thank you for calling the Southeast Coast Weather Center.",
            "ja": "ã‚µã‚¦ã‚¹ã‚¤ãƒ¼ã‚¹ãƒˆæ²¿å²¸æ°—è±¡ã‚»ãƒ³ã‚¿ãƒ¼ã«ãŠé›»è©±ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚",
            "year": "2007å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0024",
            "en": "That's Sue, who used to live on Pine Street.",
            "ja": "ãã‚Œã¯æ˜”ãƒ‘ã‚¤ãƒ³ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒˆã«ä½ã‚“ã§ã„ãŸã‚¹ãƒ¼ã‚ˆã€‚",
            "year": "2008å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0027",
            "en": "You didn't finish your book report yet?\nWell, it's only Tuesday. I still have three days.",
            "ja": "ã¾ã æ›¸è©•ã‚’æ›¸ãçµ‚ãˆã¦ãªã„ã®ï¼Ÿ\nã‚ã‚ã€ä»Šæ—¥ã¯ã¾ã ç«æ›œæ—¥ã ã‚ã€‚ã¾ã ä¸‰æ—¥ã‚ã‚‹ã‚ˆã€‚",
            "year": "2008å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0028",
            "en": "I left the bottle on the kitchen table and went to bed.",
            "ja": "ã‚­ãƒƒãƒãƒ³ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ãã®ãƒœãƒˆãƒ«ã‚’ç½®ã„ã¦å¯ã¾ã—ãŸã€‚",
            "year": "2008å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0033",
            "en": "The shrimp were playing around in the bottle.",
            "ja": "ã‚¨ãƒ“ã¯ãƒœãƒˆãƒ«ã®ä¸­ã§æ³³ã„ã§ã„ã¾ã—ãŸã€‚",
            "year": "2008å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0034",
            "en": "Sorry to bother you, but I've got a problem.",
            "ja": "å„ä»‹ã§ç”³ã—è¨³ãªã„ã‘ã©ã€å›°ã£ãŸã“ã¨ãŒã‚ã‚‹ã®ã€‚",
            "year": "2009å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0036",
            "en": "your name was the most popular in the 70s.",
            "ja": "ã‚ãªãŸã®åå‰ã¯70å¹´ä»£ã«æœ€ã‚‚äººæ°—ãŒã‚ã‚Šã¾ã—ãŸã€‚",
            "year": "2009å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0037",
            "en": "The south entrance has a big picture of a monkey on it.",
            "ja": "å—å£ã«ã¯å¤§ããªçŒ¿ã®çµµãŒã‚ã‚Šã¾ã™ã€‚",
            "year": "2009å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0038",
            "en": "I don't like the Red Line because it only runs every 30 minutes.",
            "ja": "ãƒ¬ãƒƒãƒ‰ç·šã¯30åˆ†æ¯ã«ã—ã‹æ¥ãªã„ã‹ã‚‰å¥½ãã˜ã‚ƒãªã„ã‚“ã ã€‚",
            "year": "2009å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0043",
            "en": "You mean you don't need to replace it so often?",
            "ja": "ãã‚“ãªã«é »ç¹ã«ãã‚Œã‚’äº¤æ›ã—ãªãã¦ã„ã„ã£ã¦ã“ã¨ï¼Ÿ",
            "year": "2010å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0044",
            "en": "I'm afraid we might be lost.\nDoesn't Ken live across from a school and a bank?",
            "ja": "ã‚‚ã—ã‹ã—ãŸã‚‰é“ã«è¿·ã£ãŸã‹ã‚‚ã—ã‚Œãªã„ã€‚\nã‚±ãƒ³ã¯å­¦æ ¡ã¨éŠ€è¡Œã®å‘ã‹ã„ã«ä½ã‚“ã§ãªã‹ã£ãŸã£ã‘ï¼Ÿ",
            "year": "2010å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0047",
            "en": "Here's some important information.",
            "ja": "ã„ãã¤ã‹å¤§äº‹ãªæƒ…å ±ãŒã‚ã‚Šã¾ã™ã€‚",
            "year": "2010å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0049",
            "en": "Do you know what reflects the pace of life of a country?",
            "ja": "å›½ã®ç”Ÿæ´»ãƒšãƒ¼ã‚¹ã‚’åæ˜ ã—ã¦ã‚‹ã‚‚ã®ãŒä½•ã‹çŸ¥ã£ã¦ã‚‹ï¼Ÿ",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0050",
            "en": "Now I understand how complex American society is.",
            "ja": "ã‚¢ãƒ¡ãƒªã‚«ç¤¾ä¼šãŒã©ã‚Œã»ã©è¤‡é›‘ã‹ç†è§£ã—ãŸã‚ˆ",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0052",
            "en": "Moving to a new home with your pet can be difficult.",
            "ja": "ãƒšãƒƒãƒˆã‚’é€£ã‚Œã¦æ–°å±…ã«å¼•ã£è¶Šã™ã“ã¨ã¯é›£ã—ã„ã“ã¨ã‚‚ã‚ã‚‹ã€‚",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0053",
            "en": "You know, my favorite actor's mother is Irish",
            "ja": "çŸ¥ã£ã¦ã®é€šã‚Šã€åƒ•ã®å¥½ããªä¿³å„ªã®æ¯è¦ªã¯ã‚¢ã‚¤ãƒ«ãƒ©ãƒ³ãƒ‰ç³»ãªã‚“ã ã€‚",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0056",
            "en": "When you arrive at your new home, it may be a good idea to put your cat in a quiet room, if possible.",
            "ja": "æ–°ã—ã„å®¶ã«ç€ã„ãŸã¨ãã€å¯èƒ½ã§ã‚ã‚Œã°çŒ«ã‚’é™ã‹ãªéƒ¨å±‹ã«å…¥ã‚Œã¦ã‚ã’ã‚‹ã¨ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0057",
            "en": "I saved something on this computer yesterday, but it's gone.",
            "ja": "æ˜¨æ—¥ã“ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã«ä¿å­˜ã—ãŸã‚“ã ã‘ã©ã€ãªããªã£ã¦ã‚‹ã‚“ã ã€‚",
            "year": "2011å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0058",
            "en": "What's wrong with wearing glasses?",
            "ja": "çœ¼é¡ã‚’ã‹ã‘ã‚‹ã®ã¯ä½•ã‹å•é¡ŒãŒã‚ã‚‹ã®ï¼Ÿ",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0063",
            "en": "Do you think you'll get a main role?",
            "ja": "å›ãŒä¸»å½¹ã«é¸ã°ã‚Œã‚‹ã¨æ€ã†ï¼Ÿ",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0065",
            "en": "How about having some chocolate cake?\nWell, I really have been trying to cut down.",
            "ja": "ãƒãƒ§ã‚³ã‚±ãƒ¼ã‚­ã‚’é£Ÿã¹ãªã„ï¼Ÿ\nãˆãƒ¼ã¨ã€ç§ã¯é ‘å¼µã£ã¦æ¸›é‡ã—ã¦ã‚‹ã¨ã“ãªã®",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0066",
            "en": "Are you training for tomorrow's competition?\nYeah, I've got to do better. Last time I came in second.",
            "ja": "æ˜æ—¥ã®ç«¶æŠ€ã®ãŸã‚ã«ç·´ç¿’ã—ã¦ã‚‹ã®ï¼Ÿ\nã‚ã‚ã€ã‚‚ã£ã¨ä¸Šæ‰‹ãã‚„ã‚‰ãªã„ã¨ã€‚å‰å›ã¯äºŒä½ã ã£ãŸã€‚",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0068",
            "en": "Winter has its own appeal.",
            "ja": "å†¬ã«ã¯å†¬ã®é­…åŠ›ãŒã‚ã‚‹",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0072",
            "en": "Our business hours are Monday through Friday, 8 am to 6 pm.",
            "ja": "å–¶æ¥­æ™‚é–“ã¯æœˆæ›œã‹ã‚‰é‡‘æ›œã®åˆå‰8æ™‚ã‹ã‚‰åˆå¾Œ6æ™‚ã¾ã§ã§ã™ã€‚",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0074",
            "en": "Let me look it up in the database first to see if we have it.",
            "ja": "ãã‚ŒãŒã‚ã‚‹ã‹ã©ã†ã‹ã€ã¾ãšãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§èª¿ã¹ã¦ã¿ã¾ã™ã€‚",
            "year": "2012å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0075",
            "en": "One place they became popular was France.",
            "ja": "äººæ°—ã«ãªã£ãŸå ´æ‰€ã®ä¸€ã¤ãŒãƒ•ãƒ©ãƒ³ã‚¹ã ã£ãŸã€‚",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0076",
            "en": "Look! Forty dollars a pair for all kids' shoes.",
            "ja": "è¦‹ã¦ï¼å­ä¾›ç”¨ã®é´ã¯ã©ã‚Œã‚‚1è¶³40ãƒ‰ãƒ«ã ï¼",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0077",
            "en": "You heard that Carla is in the hospital, right?\nYes. I'm thinking of seeing her tomorrow.",
            "ja": "ã‚«ãƒ¼ãƒ©ãŒå…¥é™¢ã—ã¦ã‚‹ã£ã¦ã‚ãªãŸã¯èã„ãŸã‚ˆã­ï¼Ÿ\nã‚ã‚ã€æ˜æ—¥å½¼å¥³ã®ãŠè¦‹èˆã„ã«è¡Œã“ã†ã¨æ€ã£ã¦ã‚‹ã€‚",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0078",
            "en": "Why do you need another new phone?",
            "ja": "ãªã‚“ã§ã¾ãŸæ–°ã—ã„æºå¸¯ãŒå¿…è¦ãªã®ï¼Ÿ",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0080",
            "en": "Oh, we have to put some paper in it.",
            "ja": "ã‚ã‚ã€ãã‚Œã«ç´™ã‚’å…¥ã‚Œãªã„ã¨ã„ã‘ãªã„ã€‚",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0082",
            "en": "Almost the same number as from the UK and Canada.",
            "ja": "ã‚¤ã‚®ãƒªã‚¹ã‚„ã‚«ãƒŠãƒ€ã‹ã‚‰ã®æ•°ã¨ã»ã¨ã‚“ã©åŒã˜ã€‚",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0084",
            "en": "Look how many international students come from China!",
            "ja": "ä¸­å›½ã‹ã‚‰æ¥ã¦ã„ã‚‹ç•™å­¦ç”Ÿã®å¤šã•ã‚’è¦‹ã¦ã”ã‚‰ã‚“ï¼",
            "year": "2013å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0086",
            "en": "Young children learn about their family history",
            "ja": "å°ã•ãªå­ä¾›é”ã¯å®¶æ—ã®æ­´å²ã‚’å­¦ã¶",
            "year": "2014å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0087",
            "en": "OK. I'm off to school, Mom. See you later.",
            "ja": "ã‚ˆã—ã€å­¦æ ¡ã«è¡Œãã‚ˆãƒãƒã€‚ã˜ã‚ƒã‚ã­ã€‚",
            "year": "2014å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0088",
            "en": "It's already 2:05.\nOh, ten minutes before the meeting!",
            "ja": "ã‚‚ã†2æ™‚5åˆ†ã ã€‚\nã¾ãã€ä¼šè­°ã¾ã§ã‚ã¨10åˆ†ã‚ˆï¼",
            "year": "2014å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0089",
            "en": "Do you want to go shopping at the mall?\nThat place is kind of boring, if you ask me.",
            "ja": "ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã«è²·ã„ç‰©ã«è¡Œã‹ãªã„ï¼Ÿ\nåƒ•ã«è¨€ã‚ã›ã‚Œã°ã€ã‚ãã“ã¯ã¡ã‚‡ã£ã¨é€€å±ˆã ã‚ˆã€‚",
            "year": "2014å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0093",
            "en": "Excuse me. I'm looking for Central Bus Station.",
            "ja": "ã™ã¿ã¾ã›ã‚“ã€ã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ»ãƒã‚¹ãƒ»ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¢ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€‚",
            "year": "2014å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0094",
            "en": "Where are you going in such a hurry?\nI'm taking a DVD back to the rental shop.",
            "ja": "ãã‚“ãªã«æ€¥ã„ã§ã©ã“ã«è¡Œãã®ï¼Ÿ\nãƒ¬ãƒ³ã‚¿ãƒ«ã‚·ãƒ§ãƒƒãƒ—ã«DVDã‚’è¿”ã—ã«è¡Œãã®ã€‚",
            "year": "2015å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0097",
            "en": "I'm sorry. What did you order?",
            "ja": "ã™ã¿ã¾ã›ã‚“ã€ä½•ã‚’æ³¨æ–‡ã•ã‚Œã¾ã—ãŸã‹ï¼Ÿ",
            "year": "2015å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0098",
            "en": "Where else have you lived in Japan?",
            "ja": "æ—¥æœ¬ã§ã¯ä»–ã«ã©ã“ã«ä½ã‚“ã ã“ã¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
            "year": "2015å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0100",
            "en": "I thought it was coming out next week.",
            "ja": "ãã‚Œã¯æ¥é€±ç™ºå£²ã ã¨æ€ã£ã¦ãŸã‚“ã ã‘ã©ã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0101",
            "en": "Summer vacation will be over soon.",
            "ja": "å¤ä¼‘ã¿ãŒã‚‚ã†ã™ãçµ‚ã‚ã‚‹ã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0104",
            "en": "How are your classes going?\nWell, I love math, and music is also fun.",
            "ja": "æˆæ¥­ã¯ã©ã‚“ãªæ„Ÿã˜ï¼Ÿ\nãˆãƒ¼ã¨ã€æ•°å­¦ã¯å¤§å¥½ãã§ã€éŸ³æ¥½ã‚‚é¢ç™½ã„ã‚ã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0105",
            "en": "Well, those are all great ideas, Reina.\nI especially like putting a roof over the bicycles.",
            "ja": "ã†ã‚“ã€ãã‚Œã¯ã©ã‚Œã‚‚è‰¯ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã ã€ãƒ¬ã‚¤ãƒŠã€‚\nç‰¹ã«è‡ªè»¢è»Šã®ä¸Šã«å±‹æ ¹ã‚’è¨­ç½®ã™ã‚‹ã¨ã„ã†ã®ãŒæ°—ã«å…¥ã£ãŸã‚ˆã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0106",
            "en": "You bought one with the same pattern last month.\nBut this one has long sleeves.",
            "ja": "å…ˆæœˆã‚‚åŒã˜æ¨¡æ§˜ã®ã‚‚ã®ã‚’è²·ã£ãŸã§ã—ã‚‡ã€‚\nã§ã‚‚ã“ã‚Œã¯é•·è¢–ã ã‚ˆã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0108",
            "en": "I think it'd be better if we had free Wi-Fi everywhere in the school.",
            "ja": "å­¦æ ¡ã®ã©ã“ã§ã‚‚ç„¡æ–™ã§Wi-FiãŒä½¿ãˆãŸã‚‰ã„ã„ã¨æ€ã†ãªã€‚",
            "year": "2016å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0110",
            "en": "This program would be a good chance to learn about the local history",
            "ja": "ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯åœ°åŸŸã®æ­´å²ã‚’å­¦ã¶è‰¯ã„æ©Ÿä¼šã«ãªã‚‹ã ã‚ã†ã€‚",
            "year": "2017å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0113",
            "en": "How many times have I told you not to run there?",
            "ja": "ã‚ãã“ã‚’èµ°ã‚‹ãªã£ã¦ä½•å›è¨€ã£ãŸã¨æ€ã£ã¦ã‚‹ã®ï¼Ÿ",
            "year": "2017å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0120",
            "en": "It's too hot to stay home. Let's go to the mountains.\nSounds great, but Jim's called in sick.",
            "ja": "å®¶ã«ã„ã‚‹ã«ã¯æš‘ã™ãã‚‹ã‚ã€‚å±±ã«è¡Œãã¾ã—ã‚‡ã†ã€‚\nã„ã„ã­ã€ã§ã‚‚ã‚¸ãƒ ã‹ã‚‰ç—…æ°—ã§ä¼‘ã‚€ã£ã¦é›»è©±ãŒã‚ã£ãŸã‚“ã ã€‚",
            "year": "2017å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0121",
            "en": "Can I do it online?\nSure, but only once for online extensions.",
            "ja": "ãã‚Œã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å‡ºæ¥ã¾ã™ã‹ï¼Ÿ\nã¯ã„ã€ãŸã ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®å»¶é•·ã¯ä¸€åº¦ã ã‘ã§ã™ã€‚",
            "year": "2018å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0128",
            "en": "I think many dogs in shelters are well-trained",
            "ja": "ä¿è­·æ–½è¨­ã®çŠ¬ã®å¤šãã¯ã¡ã‚ƒã‚“ã¨èº¾ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã¨æ€ã†ã€‚",
            "year": "2019å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0130",
            "en": "Then, I guess I'll check out the Greek sculptures first.",
            "ja": "ã˜ã‚ƒã‚ã€ã¾ãšã‚®ãƒªã‚·ãƒ£å½«åˆ»ã‚’è¦‹ã¦ã¿ã‚ˆã†ã‹ãªã€‚",
            "year": "2019å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0132",
            "en": "You're walking so slowly! We'll be late for the game!\nBut the traffic light has started to flash.",
            "ja": "å›ã¯æ­©ãã®ãŒé…ã™ãã‚‹ï¼è©¦åˆã«é…ã‚Œã‚‹ã‚ˆï¼\nã‘ã©ã€ä¿¡å·ãŒç‚¹æ»…ã—å§‹ã‚ãŸã‚ã€‚",
            "year": "2019å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0140",
            "en": "Where's the salt we took on the picnic?\nMaybe on the kitchen table, or by the toaster?",
            "ja": "ãƒ”ã‚¯ãƒ‹ãƒƒã‚¯ã«æŒã£ã¦è¡Œã£ãŸå¡©ã¯ã©ã“ï¼Ÿ\nã‚­ãƒƒãƒãƒ³ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¸Šã‹ã€ãƒˆãƒ¼ã‚¹ã‚¿ãƒ¼ã®ãã°ã‹ãªï¼Ÿ",
            "year": "2019å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0141",
            "en": "They're really cute when they're young.",
            "ja": "å½¼ã‚‰ãŒå°ã•ã„æ™‚ã¯æœ¬å½“ã«ã‹ã‚ã„ã„ã€‚",
            "year": "2019å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0149",
            "en": "Both countries have a tea culture.",
            "ja": "ã©ã¡ã‚‰ã®å›½ã«ã‚‚ãŠèŒ¶ã®æ–‡åŒ–ãŒã‚ã‚‹ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0151",
            "en": "But even more than that, they're so boring!",
            "ja": "ã‘ã©ãã‚Œä»¥ä¸Šã«ã€ãã‚Œã‚‰ã¯ã¨ã¦ã‚‚ã¤ã¾ã‚‰ãªã„ã‚“ã ï¼",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0152",
            "en": "Does it take you long to come to school?\nYeah, about an hour by train.",
            "ja": "å­¦æ ¡ã«ãã‚‹ã®ã«æ™‚é–“ã‹ã‹ã‚‹ï¼Ÿ\nãˆãˆã€é›»è»Šã§å¤§ä½“ä¸€æ™‚é–“ãã‚‰ã„ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0153",
            "en": "Thanks for your great ideas! How about lunch?\nI wish I could, but I've got an important meeting.",
            "ja": "ç´ æ™´ã‚‰ã—ã„æ¡ˆã‚’ã‚ã‚ŠãŒã¨ã†ï¼æ˜¼é£Ÿã§ã‚‚ã©ã†ï¼Ÿ\nãã†ã—ãŸã„ã‘ã©ã€é‡è¦ãªä¼šè­°ãŒã‚ã‚‹ã‚“ã§ã™ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0156",
            "en": "Don't worry, there's a connecting bridge on this floor.",
            "ja": "ã”å¿ƒé…ãªãã€ã“ã®éšã«ã¯é€£çµ¡é€šè·¯ãŒã‚ã‚Šã¾ã™ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0160",
            "en": "He's lying on his stomach like he's sleeping.",
            "ja": "å½¼ã¯ã†ã¤ä¼ã›ã«ãªã£ã¦ã€å¯ã¦ã„ã‚‹ã¿ãŸã„ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0168",
            "en": "Hey, take a look at these ads for part-time jobs.",
            "ja": "ã­ãˆã€ã“ã®ãƒã‚¤ãƒˆåºƒå‘Šã‚’è¦‹ã¦ã¿ã¦ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0172",
            "en": "On the other hand, their views of time are quite different.",
            "ja": "ä¸€æ–¹ã§ã€æ™‚é–“ã«å¯¾ã™ã‚‹å½¼ã‚‰ã®è€ƒãˆæ–¹ã¯ã‹ãªã‚Šé•ã£ã¦ã„ã‚‹ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0179",
            "en": "That way, I can practice what I learn from my teacher.",
            "ja": "ãã‚Œãªã‚‰ã€åƒ•ã¯å…ˆç”Ÿã‹ã‚‰å­¦ã‚“ã ã“ã¨ã‚’å®Ÿè·µã§ãã‚‹ã€‚",
            "year": "2020å¹´åº¦ã‚»ãƒ³ã‚¿ãƒ¼è©¦é¨“å‡ºé¡Œ"
        },
        {
            "id": "sentence0189",
            "en": "I wanted to experience real spoken French.",
            "ja": "æœ¬å ´ã®ãƒ•ãƒ©ãƒ³ã‚¹èªã®ä¼šè©±ã‚’çµŒé¨“ã—ãŸã‹ã£ãŸã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0192",
            "en": "Titles that were released between 2001 and 2010 are 20% off.",
            "ja": "2001å¹´ã‹ã‚‰2010å¹´ã®é–“ã«ç™ºå£²ã•ã‚ŒãŸä½œå“ã¯20%å‰²å¼•ã§ã™ã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0201",
            "en": "I won't give David any more ice cream today. I gave him some after lunch.",
            "ja": "ä»Šæ—¥ã¯ã‚‚ã†ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ã«ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã‚’ã‚ã’ãªã„ã‚ˆã€‚æ˜¼é£Ÿå¾Œã«ã„ãã‚‰ã‹ã‚ã’ãŸã‚“ã ã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0204",
            "en": "Do you actually use those? It's so wasteful.",
            "ja": "ã‚ãªãŸã¯æœ¬å½“ã«ãã‚Œã‚’ä½¿ã£ã¦ã‚‹ã®ï¼Ÿã€€ã¨ã£ã¦ã‚‚ç„¡é§„ã‚ˆã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0224",
            "en": "To start working in Hiroshima next week, Yuji moved from Chiba the day after graduation.",
            "ja": "æ¥é€±ã‹ã‚‰åºƒå³¶ã§åƒãå§‹ã‚ã‚‹ãŸã‚ã«ã€ãƒ¦ã‚¦ã‚¸ã¯å’æ¥­ã®ç¿Œæ—¥ã«åƒè‘‰ã‹ã‚‰å¼•ã£è¶Šã—ãŸã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0225",
            "en": "I've decided to visit you next March.",
            "ja": "æ¥å¹´ã®3æœˆã«å›ã‚’è¨ªã­ã‚‹ã“ã¨ã«ã—ãŸã‚ˆã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0234",
            "en": "In Denmark, for example, leisure time is often spent with others.",
            "ja": "ä¾‹ãˆã°ãƒ‡ãƒ³ãƒãƒ¼ã‚¯ã§ã¯ã€ä½™æš‡ã®æ™‚é–“ã¯ä»–äººã¨ä¸€ç·’ã«éã”ã™ã“ã¨ãŒå¤šã„ã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0237",
            "en": "It's a romance with a few comedy scenes.",
            "ja": "ãã‚Œã¯ã€ã„ãã¤ã‹ã®ã‚³ãƒ¡ãƒ‡ã‚£ã‚·ãƒ¼ãƒ³ãŒã‚ã‚‹æ‹æ„›ã‚‚ã®ã§ã™ã€‚",
            "year": "2021å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0245",
            "en": "Well, the rain won't last long anyway.",
            "ja": "ã¾ãã€ã©ã†ã›é›¨ã¯ãã‚“ãªã«é•·ãé™ã‚‰ãªã„ã§ã—ã‚‡ã†ã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0250",
            "en": "I learned a lot when I read it several years ago.",
            "ja": "ãã‚Œã‚’æ•°å¹´å‰ã«èª­ã‚“ã ã¨ãã€æ²¢å±±ã®ã“ã¨ã‚’å­¦ã³ã¾ã—ãŸã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0251",
            "en": "Please help me sort them into the proper boxes.",
            "ja": "ãã‚Œã‚‰ã‚’é©åˆ‡ãªç®±ã«åˆ†ã‘ã‚‹ã®ã‚’æ‰‹ä¼ã£ã¦ãã ã•ã„ã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0255",
            "en": "So, how are they going to make money?",
            "ja": "ãã‚Œã§ã¯ã€å½¼ã‚‰ã¯ã©ã†ã‚„ã£ã¦ãŠé‡‘ã‚’ç¨¼ãã‚“ã§ã™ã‹ï¼Ÿ",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0261",
            "en": "You can't get to the train station before it starts raining.",
            "ja": "é›¨ãŒé™ã‚Šå‡ºã™å‰ã«é§…ã«ç€ãã®ã¯ç„¡ç†ã‚ˆã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0262",
            "en": "Which picture shows what they are looking at?",
            "ja": "ã©ã®çµµãŒã€å½¼ã‚‰ãŒè¦‹ã¦ã„ã‚‹ã‚‚ã®ã‚’è¡¨ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0278",
            "en": "These workers are called gig workers, who do individual jobs, or gigs, on short-term contracts.",
            "ja": "ã“ã‚Œã‚‰ã®åŠ´åƒè€…ã¯ã€Œã‚®ã‚°ãƒ¯ãƒ¼ã‚«ãƒ¼ã€ã¨å‘¼ã°ã‚Œã€çŸ­æœŸå¥‘ç´„ã§å€‹åˆ¥ã®ä»•äº‹ã€ã‚®ã‚°ã‚’ã—ã¦ã„ã¾ã™ã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0286",
            "en": "Shoes and bags should be put into Box 4.",
            "ja": "é´ã¨é„ã¯4ç•ªã®ç®±ã«å…¥ã‚Œã¦ãã ã•ã„ã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0290",
            "en": "Let's look at some benefits of the gig work model.",
            "ja": "ã‚®ã‚°ãƒ¯ãƒ¼ã‚¯ã®ä»•çµ„ã¿ã®åˆ©ç‚¹ã‚’ã„ãã¤ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
            "year": "2022å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0311",
            "en": "Wild elephants have long been killed for ivory.",
            "ja": "é‡ç”Ÿã®è±¡ã¯è±¡ç‰™ã®ãŸã‚ã«æ˜”ã‹ã‚‰æ®ºã•ã‚Œã¦ã„ã¾ã™ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0313",
            "en": "People always say you should never go hiking alone.",
            "ja": "ä¸€äººã§ãƒã‚¤ã‚­ãƒ³ã‚°ã«è¡Œã£ã¦ã¯ã„ã‘ãªã„ã¨ã¿ã‚“ãªã„ã¤ã‚‚è¨€ã£ã¦ã„ã‚‹ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0314",
            "en": "Why not wait until next weekend when you're ready?",
            "ja": "æº–å‚™ãŒã§ãã‚‹æ¥é€±æœ«ã¾ã§å¾…ã£ãŸã‚‰ï¼Ÿ",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0316",
            "en": "I can't find my dictionary!\nWhen did you use it last?",
            "ja": "åƒ•ã®è¾æ›¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„ï¼\nã‚ãªãŸãŒæœ€å¾Œã«ä½¿ã£ãŸã®ã¯ã„ã¤ï¼Ÿ",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0319",
            "en": "Each group will give its report to the class.",
            "ja": "å„ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã‚¯ãƒ©ã‚¹ã«å ±å‘Šã‚’ã—ã¾ã™ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0324",
            "en": "You should leave the office early.\nYes, I think I'll leave now.",
            "ja": "ã‚ãªãŸã¯ã‚ªãƒ•ã‚£ã‚¹ã‚’æ—©ã‚ã«å‡ºãŸæ–¹ãŒã„ã„ã‚ã‚ˆã€‚\nã‚ã‚ã€ã‚‚ã†å‡ºã‚ˆã†ã¨æ€ã†ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0330",
            "en": "First, the top team in Stage A will be awarded medals.",
            "ja": "ã¾ãšã€ã‚¹ãƒ†ãƒ¼ã‚¸Aã§ä¸€ä½ã®ãƒãƒ¼ãƒ ã«ãƒ¡ãƒ€ãƒ«ãŒæˆä¸ã•ã‚Œã¾ã™ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0340",
            "en": "We should enjoy the city life while we're young.",
            "ja": "è‹¥ã„é–“ã¯éƒ½å¸‚ã§ã®ç”Ÿæ´»ã‚’åƒ•é”ã¯æ¥½ã—ã‚€ã¹ãã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0342",
            "en": "There are so many things to do downtown.",
            "ja": "ç¹è¯è¡—ã§ã¯ã‚„ã‚‹ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã€‚",
            "year": "2023å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0345",
            "en": "I'm putting everything here in the living room into boxes.",
            "ja": "ãƒªãƒ“ãƒ³ã‚°ã«ã‚ã‚‹ã‚‚ã®ã‚’å…¨éƒ¨ç®±ã«å…¥ã‚Œã¦ã¾ã™ã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0348",
            "en": "I'd like to buy a jacket this afternoon.",
            "ja": "ä»Šæ—¥ã®åˆå¾Œã€ã‚¸ãƒ£ã‚±ãƒƒãƒˆã‚’è²·ã„ãŸã„ã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0356",
            "en": "This pasta I made isn't enough for five people.",
            "ja": "ç§ãŒä½œã£ãŸã“ã®ãƒ‘ã‚¹ã‚¿ã¯äº”äººåˆ†ã«ã¯è¶³ã‚Šãªã„ã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0359",
            "en": "Glass-making began in Mesopotamia roughly 4,500 years ago.",
            "ja": "ã‚¬ãƒ©ã‚¹ä½œã‚Šã¯ç´„4,500å¹´å‰ã«ãƒ¡ã‚½ãƒã‚¿ãƒŸã‚¢ã§å§‹ã¾ã‚Šã¾ã—ãŸã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0362",
            "en": "Chris, why don't we walk in the morning together?",
            "ja": "ã‚¯ãƒªã‚¹ã€ä¸€ç·’ã«æœã€æ•£æ­©ã—ãªã„ï¼Ÿ",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0378",
            "en": "You bought me lunch yesterday, Ken. So, shall I buy our movie tickets tonight?",
            "ja": "æ˜¨æ—¥ã¯æ˜¼é£Ÿã‚’ã”ã¡ãã†ã—ã¦ãã‚ŒãŸã­ã€ã‚±ãƒ³ã€‚ã ã‹ã‚‰ã€ä»Šå¤œã®æ˜ ç”»ã®ãƒã‚±ãƒƒãƒˆã¯ç§ãŒè²·ãŠã†ã‹ï¼Ÿ",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0386",
            "en": "The show will be less than 20 minutes.",
            "ja": "ãã®ã‚·ãƒ§ãƒ¼ã¯20åˆ†ã‚‚ã‹ã‹ã‚‰ãªã„ã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0391",
            "en": "I have my notebook, but I forgot my pencil.",
            "ja": "ãƒãƒ¼ãƒˆã¯ã‚ã‚‹ã‘ã©ã€é‰›ç­†ã‚’å¿˜ã‚Œã¡ã‚ƒã£ãŸã€‚",
            "year": "2024å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0398",
            "en": "For food like that, I just chew 10 times per bite.",
            "ja": "ãã†ã„ã†é£Ÿã¹ç‰©ã¯ã€ä¸€å£ã«ã¤ã10å›ã—ã‹å™›ã¾ãªã„ã‚“ã§ã™ã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0399",
            "en": "In a survey of Americans, 76 percent said they thought regifting was all right, but in reality, many are reluctant to regift.",
            "ja": "ã‚¢ãƒ¡ãƒªã‚«äººã¸ã®èª¿æŸ»ã§ã¯ã€76ï¼…ãŒã€Œãƒªã‚®ãƒ•ãƒ†ã‚£ãƒ³ã‚°ï¼ˆä»–äººã‹ã‚‰ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’åˆ¥ã®äººã«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã™ã‚‹ã“ã¨ï¼‰ã¯å•é¡Œãªã„ã€ã¨ç­”ãˆã¾ã—ãŸãŒã€å®Ÿéš›ã«ã¯å¤šãã®äººãŒãã‚Œã‚’ã™ã‚‹ã“ã¨ã‚’ãŸã‚ã‚‰ã£ã¦ã„ã¾ã™ã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0400",
            "en": "It's interesting that many Americans think regifting is OK, but still hesitate to do it.",
            "ja": "å¤šãã®ã‚¢ãƒ¡ãƒªã‚«äººãŒã€Œãƒªã‚®ãƒ•ãƒ†ã‚£ãƒ³ã‚°ï¼ˆä»–äººã‹ã‚‰ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’åˆ¥ã®äººã«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã™ã‚‹ã“ã¨ï¼‰ã€ã¯å•é¡Œãªã„ã¨æ€ã£ã¦ã„ã‚‹ã®ã«ã€ãã‚Œã§ã‚‚ãã‚Œã‚’ãŸã‚ã‚‰ã†ã®ã¯èˆˆå‘³æ·±ã„ã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0405",
            "en": "The waves are usually less than 1 meter high, so there are always lots of surfers in the water.",
            "ja": "æ³¢ã®é«˜ã•ã¯é€šå¸¸1ãƒ¡ãƒ¼ãƒˆãƒ«æœªæº€ãªã®ã§ã€æµ·ã«ã¯ã„ã¤ã‚‚å¤šãã®ã‚µãƒ¼ãƒ•ã‚¡ãƒ¼ãŒã„ã¾ã™ã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0406",
            "en": "I'll chew more, eat less, and then I'll feel healthier.",
            "ja": "ã‚‚ã£ã¨å™›ã‚“ã§ã€é£Ÿã¹ã‚‹é‡ã‚’æ¸›ã‚‰ã›ã°ã€ã‚‚ã£ã¨å¥åº·çš„ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã¯ãšã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0411",
            "en": "However, no one cleans up the beach, so it's not as beautiful as others.",
            "ja": "ã—ã‹ã—ã€èª°ã‚‚ãã®ãƒ“ãƒ¼ãƒã‚’æƒé™¤ã—ãªã„ã®ã§ã€ä»–ã®ãƒ“ãƒ¼ãƒã»ã©ãã‚Œã„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        },
        {
            "id": "sentence0416",
            "en": "Do you know that in the US, millions of Christmas gifts are given each year?",
            "ja": "ã‚¢ãƒ¡ãƒªã‚«ã§ã¯æ¯å¹´ã€ä½•ç™¾ä¸‡ã‚‚ã®ã‚¯ãƒªã‚¹ãƒã‚¹ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆãŒè´ˆã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ",
            "year": "2025å¹´åº¦å…±é€šãƒ†ã‚¹ãƒˆå‡ºé¡Œ"
        }
    ];

    // --- ã‚¢ãƒ—ãƒªåˆæœŸåŒ– ---
    window.onload = function() {
        DB = EMBEDDED_JSON_DATA; // ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥ä»£å…¥

        if (DB.length === 0) {
            englishTextEl.textContent = 'JSONãƒ‡ãƒ¼ã‚¿ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚';
            return;
        }
        
        // åˆæœŸå­¦ç¿’ã‚¿ã‚¤ãƒ—ã¨ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®š
        setLearningType('listening'); 
    };

    /**
     * å­¦ç¿’ã‚¿ã‚¤ãƒ—ï¼ˆãƒªã‚¹ãƒ‹ãƒ³ã‚° or ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
     * @param {string} type - 'listening' or 'reading'
     */
    function setLearningType(type) {
        if (DB.length === 0) return;

        currentLearningType = type;
        
        // ãƒ¡ã‚¤ãƒ³ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
        [typeListeningBtn, typeReadingBtn].forEach(btn => {
            btn.classList.remove('bg-primary', 'border-2', 'border-white', 'text-white');
            btn.classList.add('bg-white', 'text-primary');
        });

        const activeBtn = type === 'listening' ? typeListeningBtn : typeReadingBtn;
        activeBtn.classList.remove('bg-white', 'text-primary');
        activeBtn.classList.add('bg-primary', 'border-2', 'border-white', 'text-white');


        if (type === 'listening') {
            renderModeButtons(MODES.listening);
            changeMode(1); // ãƒªã‚¹ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ¢ãƒ¼ãƒ‰1
        } else {
            renderModeButtons(MODES.reading);
            changeMode(101); // ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ¢ãƒ¼ãƒ‰101
        }
    }

    /**
     * ãƒ¢ãƒ¼ãƒ‰é¸æŠãƒœã‚¿ãƒ³ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹
     * @param {Array} modes - è¡¨ç¤ºã™ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—
     */
    function renderModeButtons(modes) {
        modeSelectorEl.innerHTML = '';
        modes.forEach(mode => {
            const button = document.createElement('button');
            button.onclick = () => changeMode(mode.id);
            button.id = `mode-${mode.id}`;
            button.className = 'mode-tab bg-primary border-2 border-white text-white px-4 py-2 rounded-lg font-medium text-sm transition duration-200 hover:bg-white hover:text-primary';
            button.textContent = mode.name;
            modeSelectorEl.appendChild(button);
        });
    }

    /**
     * ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ (ãƒªã‚¹ãƒ‹ãƒ³ã‚°: 1, 2, 3 / ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: 101, 102...)
     * @param {number} modeId - é¸æŠã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ‰ID
     */
    function changeMode(modeId) {
        if (DB.length === 0) return;

        currentMode = modeId;
        isTranslationVisible = false;

        // å…±é€šè¦ç´ ã®è¡¨ç¤º/éè¡¨ç¤ºãƒªã‚»ãƒƒãƒˆ
        translationCardEl.classList.add('hidden');
        toggleTranslationBtn.classList.add('hidden');
        scrambleUiEl.classList.add('hidden');
        checkAnswerBtn.classList.add('hidden');
        resetScrambleBtn.classList.add('hidden');
        messageBoxEl.classList.add('hidden');
        playAudioBtn.classList.add('hidden'); 
        englishTextEl.classList.remove('blur-sm', 'italic', 'text-gray-400');
        englishTextEl.style.fontSize = '2rem'; 

        // ã‚¿ãƒ–ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
        document.querySelectorAll('.mode-tab').forEach(btn => {
            btn.classList.remove('active-mode-tab', 'bg-white', 'text-primary');
            btn.classList.add('bg-primary', 'text-white');
        });
        const activeTab = document.getElementById(`mode-${modeId}`);
        if (activeTab) {
            activeTab.classList.remove('bg-primary', 'text-white');
            activeTab.classList.add('active-mode-tab', 'bg-white', 'text-primary');
        }


        // ãƒ¢ãƒ¼ãƒ‰å›ºæœ‰ã®UIè¨­å®š
        if (currentMode === 1) {
            // ãƒªã‚¹ãƒ‹ãƒ³ã‚°: è‹±æ–‡å…ˆè¡Œ
            toggleTranslationBtn.textContent = 'å’Œè¨³ã‚’è¡¨ç¤º';
            toggleTranslationBtn.classList.remove('hidden');
            playAudioBtn.classList.remove('hidden');
        } else if (currentMode === 2) {
            // ãƒªã‚¹ãƒ‹ãƒ³ã‚°: éŸ³å£°å…ˆè¡Œ
            englishTextEl.classList.add('blur-sm'); // è‹±æ–‡ã‚’ã¼ã‹ã—ã¦éš ã™
            toggleTranslationBtn.textContent = 'è‹±æ–‡ãƒ»å’Œè¨³ã‚’è¡¨ç¤º';
            toggleTranslationBtn.classList.remove('hidden');
            playAudioBtn.classList.remove('hidden');
        } else if (currentMode === 3) {
            // ãƒªã‚¹ãƒ‹ãƒ³ã‚°: ä¸¦ã¹æ›¿ãˆ
            scrambleUiEl.classList.remove('hidden');
            checkAnswerBtn.classList.remove('hidden');
            resetScrambleBtn.classList.remove('hidden');
            playAudioBtn.classList.remove('hidden');
            setupScrambleMode();
            loadSentence(currentSentenceIndex); 
            return; 
        } else if (currentMode === 101) {
            // ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: è‹±æ–‡å…ˆèª­ã¿ (ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
            toggleTranslationBtn.textContent = 'å’Œè¨³ã‚’è¡¨ç¤º';
            toggleTranslationBtn.classList.remove('hidden');
        } else if (currentMode === 102) {
            // ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: å’Œè¨³å…ˆè¡Œ
            englishTextEl.classList.add('blur-sm'); // è‹±æ–‡ã‚’ã¼ã‹ã—ã¦éš ã™
            toggleTranslationBtn.textContent = 'è‹±æ–‡ã‚’è¡¨ç¤º';
            toggleTranslationBtn.classList.remove('hidden');
            translationCardEl.classList.remove('hidden'); // å’Œè¨³ã‚’æœ€åˆã‹ã‚‰è¡¨ç¤º
            isTranslationVisible = true; // å’Œè¨³è¡¨ç¤ºçŠ¶æ…‹ã‚’trueã«ã™ã‚‹
        }

        loadSentence(currentSentenceIndex);
    }

    /**
     * ç¾åœ¨ã®æ–‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’UIã«èª­ã¿è¾¼ã‚€
     * @param {number} index - DBé…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
     */
    function loadSentence(index) {
        if (DB.length === 0) return; 
        
        currentSentenceIndex = (index + DB.length) % DB.length;
        const data = DB[currentSentenceIndex];

        document.getElementById('sentence-id').textContent = `ID: ${data.id}`;
        document.getElementById('sentence-year').textContent = `å‡ºé¡Œå¹´åº¦: ${data.year}`;

        // ãƒ¢ãƒ¼ãƒ‰3ä»¥å¤–ã®å ´åˆã®ã¿ã€è‹±æ–‡ã¨å’Œè¨³ã‚’æ›´æ–°
        if (currentMode !== 3) {
            englishTextEl.innerHTML = data.en.replace(/\n/g, '<br>');
            japaneseTextEl.innerHTML = data.ja.replace(/\n/g, '<br>');
        }
        
        // å’Œè¨³ã®è¡¨ç¤ºã‚’ãƒªã‚»ãƒƒãƒˆ
        if (currentMode === 1 || currentMode === 101) {
            isTranslationVisible = false;
        } else if (currentMode === 2) {
            isTranslationVisible = false;
        } else if (currentMode === 102) {
            isTranslationVisible = true; // å’Œè¨³å…ˆè¡Œãƒ¢ãƒ¼ãƒ‰ã¯å’Œè¨³ãŒè¡¨ç¤ºã•ã‚ŒãŸçŠ¶æ…‹ã§é–‹å§‹
            translationCardEl.classList.remove('hidden');
            toggleTranslationBtn.textContent = 'è‹±æ–‡ã‚’è¡¨ç¤º';
        }
        
        updateTranslationVisibility();
        
        // ãƒ¢ãƒ¼ãƒ‰2, 102ã§ã¯ã€åˆæœŸçŠ¶æ…‹ã§è‹±æ–‡ã‚’ã¼ã‹ã™
        if (currentMode === 2 || currentMode === 102) {
            englishTextEl.classList.add('blur-sm');
        } else {
            englishTextEl.classList.remove('blur-sm');
        }
        
        hideMessage();
    }


    /**
     * å’Œè¨³ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ (ãƒ¢ãƒ¼ãƒ‰ 1, 2, 101, 102)
     */
    function toggleTranslation() {
        // å’Œè¨³å…ˆè¡Œãƒ¢ãƒ¼ãƒ‰(102)ã®å ´åˆã€ãƒˆã‚°ãƒ«ã¯å’Œè¨³ã§ã¯ãªãè‹±æ–‡ã®è¡¨ç¤ºã‚’æ“ä½œã™ã‚‹
        if (currentMode === 102) {
            if (englishTextEl.classList.contains('blur-sm')) {
                // è‹±æ–‡ãŒéš ã‚Œã¦ã„ã‚‹ -> è¡¨ç¤ºã™ã‚‹
                englishTextEl.classList.remove('blur-sm'); 
                toggleTranslationBtn.textContent = 'è‹±æ–‡ã‚’éè¡¨ç¤º';
            } else {
                // è‹±æ–‡ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ -> éš ã™
                englishTextEl.classList.add('blur-sm'); 
                toggleTranslationBtn.textContent = 'è‹±æ–‡ã‚’è¡¨ç¤º';
            }
        } else {
            // ãƒªã‚¹ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰(1, 2)ã¨è‹±æ–‡å…ˆèª­ã¿(101)ã®é€šå¸¸ã®ãƒˆã‚°ãƒ«
            isTranslationVisible = !isTranslationVisible;
            updateTranslationVisibility();

            if (currentMode === 2 && isTranslationVisible) {
                // éŸ³å£°å…ˆè¡Œãƒ¢ãƒ¼ãƒ‰ã§å’Œè¨³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€è‹±æ–‡ã®ã¼ã‹ã—ã‚‚è§£é™¤
                englishTextEl.classList.remove('blur-sm');
            } else if (currentMode === 2 && !isTranslationVisible) {
                 // éè¡¨ç¤ºã«ã—ãŸã‚‰ã€è‹±æ–‡ã®ã¼ã‹ã—ã‚’å†é©ç”¨
                englishTextEl.classList.add('blur-sm');
            }
        }
    }
    
    /**
     * å’Œè¨³ã®è¡¨ç¤ºçŠ¶æ…‹ã‚’æ›´æ–°ã—ã€ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´ã™ã‚‹ (102ãƒ¢ãƒ¼ãƒ‰ä»¥å¤–)
     */
    function updateTranslationVisibility() {
        if (currentMode === 102) {
            return; 
        }

        if (isTranslationVisible) {
            translationCardEl.classList.remove('hidden');
            if (currentMode === 2) {
                 toggleTranslationBtn.textContent = 'è‹±æ–‡ãƒ»å’Œè¨³ã‚’éè¡¨ç¤º';
            } else {
                toggleTranslationBtn.textContent = 'å’Œè¨³ã‚’éè¡¨ç¤º';
            }
        } else {
            translationCardEl.classList.add('hidden');
            if (currentMode === 2) {
                 toggleTranslationBtn.textContent = 'è‹±æ–‡ãƒ»å’Œè¨³ã‚’è¡¨ç¤º';
            } else {
                toggleTranslationBtn.textContent = 'å’Œè¨³ã‚’è¡¨ç¤º';
            }
        }
    }


    /**
     * éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ç”Ÿã™ã‚‹ï¼ˆã“ã®ç’°å¢ƒã§ã¯ãƒ€ãƒŸãƒ¼ï¼‰
     */
    function playAudio() {
        if (DB.length === 0 || currentLearningType === 'reading') return; 
        
        showMessage("éŸ³å£°å†ç”Ÿãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã¾ã—ãŸã€‚(ã“ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ã¯éŸ³å£°ã¯æµã‚Œã¾ã›ã‚“)", 'primary');
    }

    /**
     * æ¬¡ã¾ãŸã¯å‰ã®æ–‡ã¸ç§»å‹•ã™ã‚‹
     */
    function navigate(direction) {
        if (DB.length === 0) return;
        let newIndex = (currentSentenceIndex + direction + DB.length) % DB.length;
        // ãƒ¢ãƒ¼ãƒ‰3ã®æ™‚ã¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ã‚„ã‚Šç›´ã™å¿…è¦ãŒã‚ã‚‹
        if (currentMode === 3) {
            currentSentenceIndex = newIndex;
            setupScrambleMode(); 
        } else {
            loadSentence(newIndex);
        }
    }
    
    /**
     * å˜èªä¸¦ã¹æ›¿ãˆã®ãŸã‚ã«è‹±æ–‡ã‚’æ•´å½¢ã—ã€å˜èªé…åˆ—ã‚’ç”Ÿæˆã™ã‚‹
     */
    function tokenizeSentence(sentence) {
        // å¥èª­ç‚¹ã‚„æ”¹è¡Œã‚’ã‚¹ãƒšãƒ¼ã‚¹ã«ç½®æ›ã—ã¦ã‹ã‚‰å˜èªã«åˆ†å‰²
        const cleanedSentence = sentence
            .replace(/\n/g, ' ')
            .replace(/[.,!?;:"â€”]/g, ' ')
            .replace(/â€™/g, "'"); 
        
        const words = cleanedSentence.trim().split(/\s+/).filter(w => w.length > 0);
        return words;
    }

    // --- ãƒ¢ãƒ¼ãƒ‰ 3 (ä¸¦ã¹æ›¿ãˆ) ã®ãƒ­ã‚¸ãƒƒã‚¯ ---

    function setupScrambleMode() {
        const data = DB[currentSentenceIndex];
        
        englishTextEl.textContent = 'ä¸¦ã¹æ›¿ãˆãƒ¢ãƒ¼ãƒ‰ï¼šä»¥ä¸‹ã®å˜èªã‚’æ­£ã—ã„é †ç•ªã«çµ„ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚';
        englishTextEl.classList.add('italic', 'text-gray-400');
        englishTextEl.style.fontSize = '1.25rem'; 
        
        correctWords = tokenizeSentence(data.en);
        scrambledWords = [...correctWords];
        shuffleArray(scrambledWords);
        
        answerSequence = []; 
        
        renderScrambledWords();
        renderAnswerArea();
        hideMessage();
        
        japaneseTextEl.innerHTML = data.ja.replace(/\n/g, '<br>');
        translationCardEl.classList.add('hidden'); 
    }
    
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderScrambledWords() {
        scrambledWordsAreaEl.innerHTML = '';
        const buttons = scrambledWords.map((word, index) => {
            const button = document.createElement('button');
            button.className = 'word-button bg-primary text-white text-sm md:text-base font-medium px-3 py-1 rounded-full shadow-md hover:bg-indigo-600 transition-colors duration-200';
            button.textContent = word;
            button.dataset.index = index;
            button.onclick = () => selectWord(word, index);
            
            // answerSequenceã«æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å˜èªã¯ç„¡åŠ¹åŒ–
            if (answerSequence.some(item => item.originalIndex === index)) {
                 button.classList.add('selected');
            }
            return button;
        });
        buttons.forEach(btn => scrambledWordsAreaEl.appendChild(btn));
    }

    function renderAnswerArea() {
        answerAreaEl.innerHTML = '';
        answerSequence.forEach((item, index) => {
            const span = document.createElement('span');
            span.className = 'answer-word bg-white text-gray-800 text-sm md:text-base px-3 py-1 rounded-full shadow border border-gray-300 cursor-pointer';
            span.textContent = item.word;
            span.dataset.originalIndex = item.originalIndex; 
            span.onclick = () => deselectWord(index);
            answerAreaEl.appendChild(span);
        });
        
        // è‹±æ–‡è¡¨ç¤ºã‚¨ãƒªã‚¢ã«ç¾åœ¨ã®è§£ç­”ã‚’è¡¨ç¤º
        if (answerSequence.length === 0) {
            englishTextEl.textContent = 'ä¸¦ã¹æ›¿ãˆãƒ¢ãƒ¼ãƒ‰ï¼šå˜èªã‚’é¸æŠã—ã¦ãã ã•ã„';
        } else {
            englishTextEl.textContent = answerSequence.map(item => item.word).join(' ');
        }
    }

    function selectWord(word, originalIndex) {
        answerSequence.push({ word, originalIndex });
        renderAnswerArea();
        renderScrambledWords(); // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
        hideMessage();
    }
    
    function deselectWord(answerIndex) {
        const removedItem = answerSequence.splice(answerIndex, 1)[0];
        
        renderAnswerArea();
        renderScrambledWords(); // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
        hideMessage();
    }
    
    function resetScramble() {
        setupScrambleMode(); 
        showMessage("ä¸¦ã¹æ›¿ãˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸã€‚", 'gray');
    }

    function checkScrambledAnswer() {
        if (answerSequence.length === 0) {
            showMessage("å˜èªã‚’é¸æŠã—ã¦è‹±æ–‡ã‚’æ§‹ç¯‰ã—ã¦ãã ã•ã„ã€‚", 'danger');
            return;
        }

        const userSentence = answerSequence.map(item => item.word).join(' ');
        
        // å¥èª­ç‚¹ãªã©ã‚’å–ã‚Šé™¤ã„ãŸå˜èªã®ä¸¦ã³é †ã®ã¿ã‚’æ¯”è¼ƒ
        const normalizedCorrect = correctWords.join(' ').replace(/\s+/g, ' ').trim();
        const normalizedUser = userSentence.replace(/\s+/g, ' ').trim();

        if (normalizedUser === normalizedCorrect) {
            showMessage("æ­£è§£ã§ã™ï¼ã‚ˆãã§ãã¾ã—ãŸï¼", 'secondary');
            
            // å…ƒã®è‹±æ–‡ã‚’å¾©å…ƒã—ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
            englishTextEl.textContent = DB[currentSentenceIndex].en.replace(/\n/g, ' ');
            englishTextEl.classList.remove('italic', 'text-gray-400');
            englishTextEl.style.fontSize = '2rem';
            
            translationCardEl.classList.remove('hidden'); // å’Œè¨³ã‚’è¡¨ç¤º
            
            // æ­£è§£ã—ãŸã‚‰å˜èªãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            document.querySelectorAll('.word-button').forEach(btn => btn.classList.add('selected'));

        } else {
            showMessage("æ®‹å¿µï¼ã¾ã é–“é•ã£ã¦ã„ã¾ã™ã€‚ã‚‚ã†ä¸€åº¦éŸ³å£°ã‚’è´ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚", 'danger');
        }
    }

    // --- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é–¢æ•° ---

    function showMessage(text, type) {
        messageBoxEl.textContent = text;
        messageBoxEl.className = `text-center py-2 px-4 text-lg font-semibold rounded-lg shadow-sm mt-4`;
        
        let bgColor, textColor;
        switch (type) {
            case 'secondary': bgColor = 'bg-green-200'; textColor = 'text-green-800'; break;
            case 'danger': bgColor = 'bg-red-200'; textColor = 'text-red-800'; break;
            case 'primary': bgColor = 'bg-indigo-200'; textColor = 'text-indigo-800'; break;
            case 'gray': bgColor = 'bg-gray-200'; textColor = 'text-gray-800'; break;
            default: bgColor = 'bg-yellow-200'; textColor = 'text-yellow-800'; break;
        }
        messageBoxEl.classList.add(bgColor, textColor);
        messageBoxEl.classList.remove('hidden');
    }

    function hideMessage() {
        messageBoxEl.classList.add('hidden');
    }


</script>
</body>
</html>